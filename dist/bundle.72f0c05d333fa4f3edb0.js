(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var i={},r=[],o=0;o<e.length;o++){var l=e[o],c=a.base?l[0]+a.base:l[0],d=i[c]||0,m="".concat(c," ").concat(d);i[c]=d+1;var u=t(m),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(g);else{var p=s(g,a);a.byIndex=o,n.splice(o,0,{identifier:m,updater:p,references:1})}r.push(m)}return r}function s(e,n){var t=n.domAPI(n);t.update(e);return function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,s){var i=a(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<i.length;r++){var o=t(i[r]);n[o].references--}for(var l=a(e,s),c=0;c<i.length;c++){var d=t(i[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,s,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&r[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),n.push(d))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},752:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(601),s=t.n(a),i=t(314),r=t.n(i)()(s());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,s&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},940:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(601),s=t.n(a),i=t(314),r=t.n(i)()(s());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r}},n={};function t(a){var s=n[a];if(void 0!==s)return s.exports;var i=n[a]={id:a,exports:{}};return e[a](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.p="/",t.nc=void 0;var a=t(72),s=t.n(a),i=t(825),r=t.n(i),o=t(659),l=t.n(o),c=t(56),d=t.n(c),m=t(540),u=t.n(m),g=t(113),p=t.n(g),h=t(940),v={};v.styleTagTransform=p(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=u();s()(h.A,v);h.A&&h.A.locals&&h.A.locals;const f=t.p+"assets/images/5cb930681f9a040f275c.png",b=t.p+"assets/images/f5094c0c58d8c9e40299.png",w=t.p+"assets/images/691c367fa39c006ae8c1.png",y=t.p+"assets/images/328887cb7b68f38d7a3c.png";class x{constructor(){this.app=document.getElementById("app")}render(){this.app.innerHTML=`\n        <header class="position-relative overflow-hidden" style="min-height: 100vh;">\n            \x3c!-- Background Image --\x3e\n            <div id="bg-image" class="position-absolute top-0 start-0 w-100 h-100" \n            style="z-index: -1; background: no-repeat right center; background-size: cover; background-position: right;"></div>\n\n            \x3c!-- Navigation --\x3e\n            <nav class="container d-flex justify-content-between align-items-center py-4 position-relative">\n                <div class="fw-bold text-black fs-5">GREENSORT</div>\n                <ul class="nav d-none d-md-flex gap-4">\n                    <li><a href="#" class="text-black text-decoration-none">Home</a></li>\n                    <li><a href="#about-us" class="text-black text-decoration-none">About Us</a></li>\n                    <li><a href="#services" class="text-black text-decoration-none">Services</a></li>\n                    <li><a href="#contact-us" class="text-black text-decoration-none">Contact Us</a></li>\n                </ul>\n                <div class="d-none d-md-flex gap-2">\n                    <button class="btn btn-outline-success btn-sm fw-semibold px-4 rounded-pill" id="login-btn">Login</button>\n                    <button class="btn btn-success btn-sm text-white fw-semibold px-4 rounded-pill" id="register-btn">Register</button>\n                </div>\n            </nav>\n\n            \x3c!-- Hero Content --\x3e\n            <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between py-5 gap-3 position-relative">\n                <div class="text-section" style="max-width: 450px;">\n                    <h1 class="fw-bold mb-4" style="font-size: 2rem;">\n                        Transformasi Pengelolaan Limbah B2B Menuju Masa Depan yang Berkelanjutan\n                    </h1>\n                    <p class="mb-4 text-secondary" style="font-size: 1rem;">\n                        GreenSort membantu bisnis Anda mengambil keputusan berbasis data untuk pengelolaan limbah yang lebih efisien, hemat biaya, dan ramah lingkungan.\n                    </p>\n                    <button class="btn btn-green px-4 py-2 rounded-pill fw-semibold" type="button">Ini Button</button>\n                </div>\n\n                <div class="image-section d-flex justify-content-center">\n                    <img src="${f}" alt="Hero Image" class="img-fluid" style="max-width: 500px;" loading="lazy" />\n                </div>\n            </div>\n        </header>\n\n        \x3c!-- About Us Section --\x3e\n        <section class="container my-5 py-4" id="about-us">\n            <div class="row g-4">\n                <div class="col-12">\n                    <h2 class="fw-bold fs-4 mb-1">About Us</h2>\n                    <p class="text-secondary fst-italic mb-1">"Menilai Limbah Mengelola Masa Depan"</p>\n                    <p class="text-secondary fst-italic mb-4">"Klasifikasikan dengan Cerdas, Jual dengan Mudah"</p>\n                </div>\n                \n                <div class="col-md-5">\n                    <div class="position-relative">\n                        <div class="green-bg p-4 rounded-4 position-relative">\n                            <img src="${b}" alt="Illustration" class="img-fluid" />\n                            \x3c!-- Tanda tanya di sekitar gambar --\x3e\n                            <div class="question-mark bg-white rounded-circle position-absolute">?</div>\n                            <div class="question-mark bg-white rounded-circle position-absolute" style="top: 15%; right: 15%;">?</div>\n                            <div class="question-mark bg-white rounded-circle position-absolute" style="bottom: 25%; left: 10%;">?</div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="col-md-7">\n                    <div class="border-start border-dark ps-4">\n                        <p class="text-justify">\n                            GreenSort adalah platform penilaian limbah B2B berbasis teknologi \n                            cerdas yang dirancang untuk membantu industri dalam mengelola \n                            limbah secara efisien, bertanggung jawab, dan berkelanjutan. Kami \n                            percaya bahwa masa depan industri yang lebih hijau dimulai dari \n                            transparansi dan efisiensi dalam proses pengelolaan limbah. \n                            Dengan menggabungkan kecerdasan buatan, analitik data, dan \n                            standar keberlanjutan.\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </section>\n\n        \x3c!-- Services Section --\x3e\n        <section class="services-wrapper my-5 py-5" id="services">\n            <div class="container">\n                <h2 class="text-end fw-bold mb-5">Services</h2>\n                \n                <div class="row g-4">\n                    \x3c!-- Kolom Kiri (Service Boxes) --\x3e\n                    <div class="col-lg-5 d-flex flex-column gap-4">\n                        \x3c!-- Service Box 1 --\x3e\n                        <div class="service-card lime-card">\n                            <h3 class="service-title d-flex justify-content-between align-items-center">\n                                Klasifikasi Image Limbah Otomatis\n                                <i class="fas fa-camera-retro"></i>\n                            </h3>\n                            <p class="service-description">\n                                Deteksi dan klasifikasikan limbah secara instan melalui analisis gambar berbasis AI—praktis, cepat, dan akurat.\n                            </p>\n                            <hr class="my-3">\n                            <a href="#" class="d-flex justify-content-between align-items-center text-decoration-none text-dark">\n                                <span class="fw-semibold">Coba Sekarang</span>\n                                <i class="fas fa-circle-arrow-right"></i>\n                            </a>\n                        </div>\n                        \n                        \x3c!-- Service Box 2 --\x3e\n                        <div class="service-card white-card">\n                            <h3 class="service-title d-flex justify-content-between align-items-center">\n                                Penjualan Limbah\n                                <i class="fas fa-store"></i>\n                            </h3>\n                            <p class="service-description">\n                                Pasarkan limbah yang telah diklasifikasikan langsung ke mitra B2B melalui marketplace yang aman dan efisien.\n                            </p>\n                            <hr class="my-3">\n                            <a href="#" class="d-flex justify-content-between align-items-center text-decoration-none text-dark">\n                                <span class="fw-semibold">Coba Sekarang</span>\n                                <i class="fas fa-circle-arrow-right"></i>\n                            </a>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- Kolom Kanan (Ilustrasi) --\x3e\n                    <div class="col-lg-7">\n                        <div class="h-100">\n                            <img src="${y}" alt="Ilustrasi pemandangan hijau dengan bunga putih" class="img-fluid rounded-4 w-100 h-100" style="object-fit: cover;">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n\n        \x3c!-- Education Section --\x3e\n        <section class="container my-5 py-4">\n            <h2 class="text-center fw-semibold mb-5">Edukasi Lingkungan & Kesadaran Limbah</h2>\n            \n            <div class="row g-4">\n                <div class="col-md-5">\n                    <h3 class="fw-bold fs-3 mb-4">\n                        Edukasi adalah langkah awal menuju industri yang lebih bertanggung jawab terhadap lingkungan\n                    </h3>\n                    <div class="education-image-container">\n                        <img src="${f}" alt="Edukasi Lingkungan" class="img-fluid rounded-4">\n                    </div>\n                </div>\n                \n                <div class="col-md-7">\n                    <div class="border-start border-dark ps-4">\n                        <div class="mb-4">\n                            <h4 class="fw-semibold mb-2">Jenis-Jenis Limbah & Cara Penanganannya</h4>\n                            <p class="text-secondary">\n                                Pelajari perbedaan limbah organik, anorganik, B3, dan cara penanganan yang tepat untuk masing-masing.\n                            </p>\n                        </div>\n                        \n                        <div class="mb-4">\n                            <h4 class="fw-semibold mb-2">Manfaat Daur Ulang & Ekonomi Sirkular</h4>\n                            <p class="text-secondary">\n                                Temukan bagaimana limbah bisa bernilai kembali dan mendukung keberlanjutan industri.\n                            </p>\n                        </div>\n                        \n                        <div class="mb-4">\n                            <h4 class="fw-semibold mb-2">Tips & Praktik Ramah Lingkungan</h4>\n                            <p class="text-secondary">\n                                Dari kebiasaan kecil hingga langkah besar—kami bagikan cara-cara sederhana untuk ikut menjaga lingkungan.\n                            </p>\n                        </div>\n                        \n                        <div class="mb-4">\n                            <h4 class="fw-semibold mb-2">Dampak Lingkungan dari Limbah Tak Terkelola</h4>\n                            <p class="text-secondary">\n                                Pahami risiko sebenarnya terhadap kesehatan dan ekosistem, serta pentingnya pengelolaan yang bertanggung jawab.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n\n        \x3c!-- Contact Section --\x3e\n        <section class="contact-section py-5" id="contact-us">\n            <div class="container">\n                <h2 class="text-center fw-bold mb-5">Contact Us</h2>\n                \n                <div class="row justify-content-center mb-5">\n                    \x3c!-- Email Card --\x3e\n                    <div class="col-md-4 mb-4 mb-md-0">\n                        <div class="contact-card text-center">\n                            <i class="fas fa-envelope mb-3"></i>\n                            <h4>Email</h4>\n                            <p>Politeknik@polije.ac.id</p>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- WhatsApp Card --\x3e\n                    <div class="col-md-4 mb-4 mb-md-0">\n                        <div class="contact-card text-center">\n                            <i class="fab fa-whatsapp mb-3"></i>\n                            <h4>Whatsapp</h4>\n                            <p>+62 8913 9238 32</p>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- Email Card (duplicated as in the design) --\x3e\n                    <div class="col-md-4">\n                        <div class="contact-card text-center">\n                            <i class="fas fa-envelope mb-3"></i>\n                            <h4>Email</h4>\n                            <p>Marketing@polije.ac.id</p>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Contact Form --\x3e\n                <div class="row justify-content-center">\n                    <div class="col-md-8">\n                        <div class="contact-form">\n                            <h3 class="text-center mb-4">Formulir Kontak</h3>\n                            <form>\n                                <div class="row g-3 mb-3">\n                                    <div class="col-md-6">\n                                        <input type="text" class="form-control" placeholder="Nama Lengkap" required>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input type="email" class="form-control" placeholder="Email" required>\n                                    </div>\n                                </div>\n                                <div class="mb-3">\n                                    <input type="text" class="form-control" placeholder="Subjek" required>\n                                </div>\n                                <div class="mb-4">\n                                    <textarea class="form-control" rows="5" placeholder="Pesan"></textarea>\n                                </div>\n                                <button type="submit" class="btn btn-green w-100 py-2 fw-semibold">Kirim</button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n\n        \x3c!-- Footer --\x3e\n        <footer class="footer py-3">\n            <div class="container text-center">\n                <p class="mb-0">© Copyright <strong>2025</strong></p>\n            </div>\n        </footer>\n      `;document.getElementById("bg-image").style.backgroundImage=`url(${w})`,this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("register-btn");e&&e.addEventListener("click",(e=>{e.preventDefault();const n=new CustomEvent("navigate",{detail:{page:"register"}});document.dispatchEvent(n)}));const n=document.getElementById("login-btn");n&&n.addEventListener("click",(e=>{e.preventDefault();const n=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(n)}))}}class k{constructor(){this.routes={}}addRoute(e,n){this.routes[e]=n}navigateTo(e){window.location.href=e}navigateWithParams(e,n){const t=new URL(e,window.location.origin);n&&"object"==typeof n&&Object.keys(n).forEach((e=>{t.searchParams.append(e,n[e])})),window.location.href=t.toString()}init(){this.handleRouteChange(),window.addEventListener("popstate",(()=>{this.handleRouteChange()}))}handleRouteChange(){const e=window.location.pathname,n=this.routes[e]||this.routes["*"];n&&"function"==typeof n&&n()}getQueryParams(){const e={},n=new URLSearchParams(window.location.search);for(const[t,a]of n.entries())e[t]=a;return e}}class E{constructor(){this.view=new x,this.router=new k}init(){this.view.render(),this.setupNavigation()}setupNavigation(){document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("register-btn");e&&e.addEventListener("click",(e=>{localStorage.getItem("currentUser")?(e.preventDefault(),alert("Anda sudah login. Silahkan logout terlebih dahulu untuk membuat akun baru.")):this.router.navigateTo("src/pages/register.html")}));const n=document.getElementById("login-btn");n&&n.addEventListener("click",(e=>{localStorage.getItem("currentUser")?(e.preventDefault(),alert("Anda sudah login.")):this.router.navigateTo("src/pages/login.html")}))}))}}var L=t(752),S={};S.styleTagTransform=p(),S.setAttributes=d(),S.insert=l().bind(null,"head"),S.domAPI=r(),S.insertStyleElement=u();s()(L.A,S);L.A&&L.A.locals&&L.A.locals;const C=t.p+"assets/images/6ac5f65a0a3abb390e56.png";class I{constructor(){this.app=document.getElementById("app")}render(){this.app.innerHTML=`\n            <main class="d-flex flex-column flex-md-row align-items-center justify-content-center w-100">\n                <section class="mb-5 mb-md-0 d-flex justify-content-center flex-shrink-0" style="max-width: 400px;">\n                    <img src="${C}" alt="Illustration of a woman registering on a large smartphone screen with green leaves and gears around" class="img-fluid" />\n                </section>\n                <section class="w-100" style="max-width: 400px;">\n                <h1 class="fw-bold fs-2 tracking-widest mb-1" style="letter-spacing: 0.15em;">Welcome!</h1>\n                <p class="mb-4 text-secondary" style="font-size: 0.875rem;">Silahkan isi field untuk Daftar Akun</p>\n                <div class="divider mb-4">\n                    <span></span>\n                    <hr />\n                    <span></span>\n                </div>\n                <form id="registerForm">\n                    <div class="mb-3">\n                    <input type="text" id="name" class="form-control" placeholder="Nama Lengkap" />\n                    </div>\n                    <div class="mb-3">\n                    <input type="email" id="email" class="form-control" placeholder="Email" />\n                    </div>\n                    <div class="mb-3">\n                    <input type="tel" id="phone" class="form-control" placeholder="No Hp" />\n                    </div>\n                    <div class="mb-3">\n                    <input type="text" id="username" class="form-control" placeholder="Username" />\n                    </div>\n                    <div class="mb-3">\n                    <input type="password" id="password" class="form-control" placeholder="Password" />\n                    </div>\n                    <div class="mb-4">\n                    <input type="password" id="rePassword" class="form-control" placeholder="Re-Password" />\n                    </div>\n                    <button type="submit" class="btn btn-lime w-100 mb-3">Daftar</button>\n                </form>\n                <p class="text-center text-secondary" style="font-size: 0.875rem;">\n                    Sudah punya akun? <a href="#" id="login-link" class="lime-link">Login</a>\n                </p>\n                </section>\n            </main>\n        `,this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("login-link");e&&e.addEventListener("click",(e=>{e.preventDefault();const n=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(n)}))}getRegisterFormData(){return{name:document.getElementById("name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,username:document.getElementById("username").value,password:document.getElementById("password").value,rePassword:document.getElementById("rePassword").value}}showAlert(e){alert(e)}showRegisterSuccess(){this.removeMessages();const e=document.createElement("div");e.className="alert alert-success mt-3",e.textContent="Pendaftaran berhasil! Mengalihkan ke halaman login...";const n=document.getElementById("registerForm");n&&n.insertAdjacentElement("afterend",e)}showRegisterError(e){this.removeMessages();const n=document.createElement("div");n.className="alert alert-danger mt-3",n.textContent=e||"Pendaftaran gagal. Silakan coba lagi.";const t=document.getElementById("registerForm");t&&(t.insertAdjacentElement("afterend",n),setTimeout((()=>{n.remove()}),5e3))}removeMessages(){document.querySelectorAll(".alert").forEach((e=>e.remove()))}}class P{constructor(){this.view=new I,this.registerForm=null}init(){this.view.render(),this.setupFormListener()}setupFormListener(){this.registerForm=document.getElementById("registerForm"),this.registerForm?(this.registerForm.removeEventListener("submit",this.handleRegisterSubmit.bind(this)),this.registerForm.addEventListener("submit",this.handleRegisterSubmit.bind(this))):console.error("Register form not found in the DOM")}setupNavigationListener(){document.removeEventListener("navigate",this.handleNavigate),this.handleNavigate=e=>{if("login"===e.detail.page){const e=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(e)}},document.addEventListener("navigate",this.handleNavigate)}async handleRegisterSubmit(e){e.preventDefault();try{const e=this.view.getRegisterFormData();if(!this.validateUserData(e))return;const n=await async function(e){if(e.password!==e.rePassword)return{success:!1,message:"Password tidak cocok!"};const n=JSON.parse(localStorage.getItem("users"))||[];return n.find((n=>n.email===e.email||n.username===e.username))?{success:!1,message:"User sudah terdaftar!"}:(n.push({name:e.name,email:e.email,phone:e.phone,username:e.username,password:e.password}),localStorage.setItem("users",JSON.stringify(n)),{success:!0,message:"Pendaftaran berhasil!"})}(e);n.success?(this.view.showRegisterSuccess(),setTimeout((()=>{const e=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(e)}),1500)):this.view.showRegisterError(n.message)}catch(e){console.error("Error during registration:",e),this.view.showRegisterError("Terjadi kesalahan saat mendaftar. Silakan coba lagi.")}}validateUserData(e){if(!(e.name&&e.email&&e.phone&&e.username&&e.password&&e.rePassword))return this.view.showRegisterError("Semua field harus diisi!"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return this.view.showRegisterError("Email tidak valid!"),!1;return/^\d+$/.test(e.phone)?e.password.length<6?(this.view.showRegisterError("Password minimal 6 karakter!"),!1):e.password===e.rePassword||(this.view.showRegisterError("Konfirmasi password tidak cocok!"),!1):(this.view.showRegisterError("Nomor telepon hanya boleh berisi angka!"),!1)}}const j=t.p+"assets/images/f8b8bb6d2a4d48c9b3e0.png";class B{constructor(){this.app=document.getElementById("app")}render(){this.app.innerHTML=`\n            <div class="login-container">\n                <div class="illustration">\n                <img\n                    src="${j}"\n                    alt="Illustration of a man holding a large green key standing in front of a computer screen showing a user login form with green accents"\n                    width="600"\n                    height="400"\n                />\n                </div>\n                <div class="login-form">\n                <h1>Welcome!</h1>\n                <p class="subtitle">Silahkan isi field untuk Login</p>\n                <hr />\n                <form id="loginForm">\n                    <input\n                    id="emailOrUsername"\n                    type="text"\n                    class="form-control"\n                    placeholder="Email atau Username"\n                    required\n                    />\n                    <input\n                    id="password"\n                    type="password"\n                    class="form-control"\n                    placeholder="Password"\n                    required\n                    />\n                    <p class="text-center-sm mb-3">\n                    Lupa Password?\n                    <a href="#" class="link-lime">Klik Disini</a>\n                    </p>\n                    <button type="submit" class="btn btn-lime mb-3">Login</button>\n                    <p class="text-center-sm">\n                    Tidak punya akun?\n                    <a href="#" id="register-link" class="link-lime">Daftar</a>\n                    </p>\n                </form>\n                </div>\n            </div>\n        `,this.addLoginStyles(),this.setupEventListeners()}addLoginStyles(){if(!document.getElementById("login-styles")){const e=document.createElement("style");e.id="login-styles",e.textContent="\n                body {\n                    font-family: 'Montserrat', sans-serif;\n                    background-color: #fff;\n                    min-height: 100vh;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 1rem;\n                }\n                .login-container {\n                    max-width: 900px;\n                    width: 100%;\n                    display: flex;\n                    flex-wrap: wrap;\n                    align-items: center;\n                    justify-content: center;\n                }\n                .illustration {\n                    flex: 1 1 50%;\n                    max-width: 600px;\n                    text-align: center;\n                }\n                .illustration img {\n                    max-width: 100%;\n                    height: auto;\n                }\n                .login-form {\n                    flex: 1 1 50%;\n                    max-width: 400px;\n                    padding: 0 1rem;\n                }\n                h1 {\n                    font-weight: 700;\n                    font-size: 2rem;\n                    letter-spacing: 0.1em;\n                    margin-bottom: 0.5rem;\n                }\n                p.subtitle {\n                    font-weight: 400;\n                    font-size: 0.9rem;\n                    margin-bottom: 2rem;\n                    color: #4a4a4a;\n                }\n                hr {\n                    border-color: #999;\n                    margin-bottom: 2rem;\n                }\n                .form-control {\n                    border-radius: 0.375rem;\n                    font-size: 1rem;\n                    padding: 0.75rem 1rem;\n                    margin-bottom: 1rem;\n                }\n                .link-lime {\n                    color: #b7e22f;\n                    text-decoration: none;\n                }\n                .link-lime:hover {\n                    text-decoration: underline;\n                    color: #a0d01f;\n                }\n                .btn-lime {\n                    background-color: #b7e22f;\n                    border: none;\n                    font-weight: 700;\n                    padding: 0.75rem 0;\n                    border-radius: 0.5rem;\n                    width: 100%;\n                    box-shadow: 0 4px 6px rgb(0 0 0 / 0.1);\n                    transition: background-color 0.3s ease;\n                    color: black;\n                }\n                .btn-lime:hover {\n                    background-color: #a0d01f;\n                    color: black;\n                }\n                .text-center-sm {\n                    text-align: center;\n                }\n                @media (max-width: 767.98px) {\n                    .login-container {\n                        flex-direction: column;\n                    }\n                    .illustration,\n                    .login-form {\n                        max-width: 100%;\n                        flex: 1 1 100%;\n                    }\n                    .text-center-sm {\n                        text-align: center;\n                    }\n                }\n            ",document.head.appendChild(e)}}setupEventListeners(){const e=document.getElementById("register-link");e&&e.addEventListener("click",(e=>{e.preventDefault();const n=new CustomEvent("navigate",{detail:{page:"register"}});document.dispatchEvent(n)}))}getLoginFormData(){return{emailOrUsername:document.getElementById("emailOrUsername").value,password:document.getElementById("password").value}}showAlert(e){alert(e)}showLoginSuccess(){this.removeMessages();const e=document.createElement("div");e.className="alert alert-success mt-3",e.textContent="Login berhasil! Mengalihkan ke dashboard...";const n=document.getElementById("loginForm");n&&n.insertAdjacentElement("afterend",e)}showLoginError(e){this.removeMessages();const n=document.createElement("div");n.className="alert alert-danger mt-3",n.textContent=e||"Login gagal. Silakan coba lagi.";const t=document.getElementById("loginForm");t&&(t.insertAdjacentElement("afterend",n),setTimeout((()=>{n.remove()}),5e3))}removeMessages(){document.querySelectorAll(".alert").forEach((e=>e.remove()))}}class A{constructor(){this.view=new B,this.loginForm=null}init(){this.view.render(),this.setupFormListener(),this.setupNavigationListener()}setupFormListener(){this.loginForm=document.getElementById("loginForm"),this.loginForm?(this.loginForm.removeEventListener("submit",this.handleLoginSubmit.bind(this)),this.loginForm.addEventListener("submit",this.handleLoginSubmit.bind(this))):console.error("Login form not found in the DOM")}setupNavigationListener(){document.removeEventListener("navigate",this.handleNavigate),this.handleNavigate=e=>{if("register"===e.detail.page){const e=new CustomEvent("navigate",{detail:{page:"register"}});document.dispatchEvent(e)}},document.addEventListener("navigate",this.handleNavigate)}async handleLoginSubmit(e){e.preventDefault();try{const e=this.view.getLoginFormData();if(!this.validateCredentials(e))return;const n=await async function(e){const n=(JSON.parse(localStorage.getItem("users"))||[]).find((n=>(n.email===e.emailOrUsername||n.username===e.emailOrUsername)&&n.password===e.password));return n?(sessionStorage.setItem("currentUser",JSON.stringify(n)),{success:!0,message:"Login berhasil!"}):{success:!1,message:"Email/Username atau Password salah!"}}(e);n.success?(this.view.showLoginSuccess(),setTimeout((()=>{const e=new CustomEvent("navigate",{detail:{page:"index"}});document.dispatchEvent(e)}),1500)):this.view.showLoginError(n.message)}catch(e){console.error("Error during login:",e),this.view.showLoginError("Terjadi kesalahan saat login. Silakan coba lagi.")}}validateCredentials(e){return e.emailOrUsername&&e.password?!(e.password.length<6)||(this.view.showLoginError("Password minimal 6 karakter!"),!1):(this.view.showLoginError("Email/Username dan Password harus diisi!"),!1)}}class R{constructor(){this.router=new k,this.currentPresenter=null,this.setupRoutes(),this.setupNavigationListeners()}setupRoutes(){this.handleRouteChange(),window.addEventListener("popstate",(()=>{this.handleRouteChange()})),document.addEventListener("pageChanged",(e=>{const n=e.detail.page;console.log("Page changed to:",n),this.loadPresenter(n)}))}setupNavigationListeners(){document.addEventListener("navigate",(e=>{const n=e.detail.page;console.log("Navigation request to:",n),window.history.pushState({},"",n);const t=new CustomEvent("pageChanged",{detail:{page:n}});document.dispatchEvent(t)}))}handleRouteChange(){const e=window.location.pathname;console.log("Current path:",e),e.includes("register")?this.loadPresenter("register"):e.includes("login")?this.loadPresenter("login"):this.loadPresenter("index")}loadPresenter(e){switch(console.log("Loading presenter for page:",e),this.currentPresenter,e){case"register":this.currentPresenter=new P;break;case"login":this.currentPresenter=new A;break;default:this.currentPresenter=new E}this.currentPresenter&&this.currentPresenter.init()}}document.addEventListener("DOMContentLoaded",(()=>{console.log("Document loaded, initializing app");new R}))})();