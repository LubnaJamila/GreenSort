(()=>{"use strict";var e,n={660:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(601),a=t.n(s),i=t(314),r=t.n(i)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r},664:(e,n,t)=>{t(692),t(668),t(194),t(417),t(8),t(277),t(765),t(91),t(148);var s=t(72),a=t.n(s),i=t(825),r=t.n(i),o=t(659),l=t.n(o),c=t(56),d=t.n(c),g=t(540),m=t.n(g),h=t(113),u=t.n(h),v=t(940),p={};p.styleTagTransform=u(),p.setAttributes=d(),p.insert=l().bind(null,"head"),p.domAPI=r(),p.insertStyleElement=m();a()(v.A,p);v.A&&v.A.locals&&v.A.locals;t(336);const b=t.p+"assets/images/5cb930681f9a040f275c.png",f=t.p+"assets/images/f5094c0c58d8c9e40299.png",w=t.p+"assets/images/691c367fa39c006ae8c1.png",y=t.p+"assets/images/328887cb7b68f38d7a3c.png";class k{constructor(){this.app=document.getElementById("app"),this.eventListeners=[]}render(){console.log("Rendering IndexView"),this.app.innerHTML=`\n            <header class="position-relative overflow-hidden" style="min-height: 100vh;">\n                \x3c!-- Background Image --\x3e\n                <div id="bg-image" class="position-absolute top-0 start-0 w-100 h-100" \n                style="z-index: -1; background: no-repeat right center; background-size: cover; background-position: right;"></div>\n\n                \x3c!-- Navigation --\x3e\n                <nav class="container d-flex justify-content-between align-items-center py-4 position-relative">\n                    <div class="fw-bold text-black fs-5">GREENSORT</div>\n                    <ul class="nav d-none d-md-flex gap-4">\n                        <li><a href="#" class="text-black text-decoration-none">Home</a></li>\n                        <li><a href="#about-us" class="text-black text-decoration-none">About Us</a></li>\n                        <li><a href="#services" class="text-black text-decoration-none">Services</a></li>\n                        <li><a href="#contact-us" class="text-black text-decoration-none">Contact Us</a></li>\n                    </ul>\n                    <div class="d-none d-md-flex gap-2">\n                        <button class="btn btn-outline-success btn-sm fw-semibold px-4 rounded-pill" id="login-btn">Login</button>\n                        <button class="btn btn-success btn-sm text-white fw-semibold px-4 rounded-pill" id="register-btn">Register</button>\n                    </div>\n                </nav>\n\n                \x3c!-- Hero Content --\x3e\n                <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between py-5 gap-3 position-relative">\n                    <div class="text-section" style="max-width: 450px;">\n                        <h1 class="fw-bold mb-4" style="font-size: 2rem;">\n                            Transformasi Pengelolaan Limbah B2B Menuju Masa Depan yang Berkelanjutan\n                        </h1>\n                        <p class="mb-4 text-secondary" style="font-size: 1rem;">\n                            GreenSort membantu bisnis Anda mengambil keputusan berbasis data untuk pengelolaan limbah yang lebih efisien, hemat biaya, dan ramah lingkungan.\n                        </p>\n                        <button class="btn btn-green px-4 py-2 rounded-pill fw-semibold" type="button">Ini Button</button>\n                    </div>\n\n                    <div class="image-section d-flex justify-content-center">\n                        <img src="${b}" alt="Hero Image" class="img-fluid" style="max-width: 500px;" loading="lazy" />\n                    </div>\n                </div>\n            </header>\n\n            \x3c!-- About Us Section --\x3e\n            <section class="container my-5 py-4" id="about-us">\n                <div class="row g-4">\n                    <div class="col-12">\n                        <h2 class="fw-bold fs-4 mb-1">About Us</h2>\n                        <p class="text-secondary fst-italic mb-1">"Menilai Limbah Mengelola Masa Depan"</p>\n                        <p class="text-secondary fst-italic mb-4">"Klasifikasikan dengan Cerdas, Jual dengan Mudah"</p>\n                    </div>\n                    \n                    <div class="col-md-5">\n                        <div class="position-relative">\n                            <div class="green-bg p-4 rounded-4 position-relative">\n                                <img src="${f}" alt="Illustration" class="img-fluid" />\n                                \x3c!-- Tanda tanya di sekitar gambar --\x3e\n                                <div class="question-mark bg-white rounded-circle position-absolute">?</div>\n                                <div class="question-mark bg-white rounded-circle position-absolute" style="top: 15%; right: 15%;">?</div>\n                                <div class="question-mark bg-white rounded-circle position-absolute" style="bottom: 25%; left: 10%;">?</div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div class="col-md-7">\n                        <div class="border-start border-dark ps-4">\n                            <p class="text-justify">\n                                GreenSort adalah platform penilaian limbah B2B berbasis teknologi \n                                cerdas yang dirancang untuk membantu industri dalam mengelola \n                                limbah secara efisien, bertanggung jawab, dan berkelanjutan. Kami \n                                percaya bahwa masa depan industri yang lebih hijau dimulai dari \n                                transparansi dan efisiensi dalam proses pengelolaan limbah. \n                                Dengan menggabungkan kecerdasan buatan, analitik data, dan \n                                standar keberlanjutan.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            \x3c!-- Services Section --\x3e\n            <section class="services-wrapper my-5 py-5" id="services">\n                <div class="container">\n                    <h2 class="text-end fw-bold mb-5">Services</h2>\n                    \n                    <div class="row g-4">\n                        \x3c!-- Kolom Kiri (Service Boxes) --\x3e\n                        <div class="col-lg-5 d-flex flex-column gap-4">\n                            \x3c!-- Service Box 1 --\x3e\n                            <div class="service-card lime-card">\n                                <h3 class="service-title d-flex justify-content-between align-items-center">\n                                    Klasifikasi Image Limbah Otomatis\n                                    <i class="fas fa-camera-retro"></i>\n                                </h3>\n                                <p class="service-description">\n                                    Deteksi dan klasifikasikan limbah secara instan melalui analisis gambar berbasis AIâ€”praktis, cepat, dan akurat.\n                                </p>\n                                <hr class="my-3">\n                                <a href="#" class="d-flex justify-content-between align-items-center text-decoration-none text-dark">\n                                    <span class="fw-semibold">Coba Sekarang</span>\n                                    <i class="fas fa-circle-arrow-right"></i>\n                                </a>\n                            </div>\n                            \n                            \x3c!-- Service Box 2 --\x3e\n                            <div class="service-card white-card">\n                                <h3 class="service-title d-flex justify-content-between align-items-center">\n                                    Penjualan Limbah\n                                    <i class="fas fa-store"></i>\n                                </h3>\n                                <p class="service-description">\n                                    Pasarkan limbah yang telah diklasifikasikan langsung ke mitra B2B melalui marketplace yang aman dan efisien.\n                                </p>\n                                <hr class="my-3">\n                                <a href="#" class="d-flex justify-content-between align-items-center text-decoration-none text-dark">\n                                    <span class="fw-semibold">Coba Sekarang</span>\n                                    <i class="fas fa-circle-arrow-right"></i>\n                                </a>\n                            </div>\n                        </div>\n                        \n                        \x3c!-- Kolom Kanan (Ilustrasi) --\x3e\n                        <div class="col-lg-7">\n                            <div class="h-100">\n                                <img src="${y}" alt="Ilustrasi pemandangan hijau dengan bunga putih" class="img-fluid rounded-4 w-100 h-100" style="object-fit: cover;">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            \x3c!-- Education Section --\x3e\n            <section class="container my-5 py-4">\n                <h2 class="text-center fw-semibold mb-5">Edukasi Lingkungan & Kesadaran Limbah</h2>\n                \n                <div class="row g-4">\n                    <div class="col-md-5">\n                        <h3 class="fw-bold fs-3 mb-4">\n                            Edukasi adalah langkah awal menuju industri yang lebih bertanggung jawab terhadap lingkungan\n                        </h3>\n                        <div class="education-image-container">\n                            <img src="${b}" alt="Edukasi Lingkungan" class="img-fluid rounded-4">\n                        </div>\n                    </div>\n                    \n                    <div class="col-md-7">\n                        <div class="border-start border-dark ps-4">\n                            <div class="mb-4">\n                                <h4 class="fw-semibold mb-2">Jenis-Jenis Limbah & Cara Penanganannya</h4>\n                                <p class="text-secondary">\n                                    Pelajari perbedaan limbah organik, anorganik, B3, dan cara penanganan yang tepat untuk masing-masing.\n                                </p>\n                            </div>\n                            \n                            <div class="mb-4">\n                                <h4 class="fw-semibold mb-2">Manfaat Daur Ulang & Ekonomi Sirkular</h4>\n                                <p class="text-secondary">\n                                    Temukan bagaimana limbah bisa bernilai kembali dan mendukung keberlanjutan industri.\n                                </p>\n                            </div>\n                            \n                            <div class="mb-4">\n                                <h4 class="fw-semibold mb-2">Tips & Praktik Ramah Lingkungan</h4>\n                                <p class="text-secondary">\n                                    Dari kebiasaan kecil hingga langkah besarâ€”kami bagikan cara-cara sederhana untuk ikut menjaga lingkungan.\n                                </p>\n                            </div>\n                            \n                            <div class="mb-4">\n                                <h4 class="fw-semibold mb-2">Dampak Lingkungan dari Limbah Tak Terkelola</h4>\n                                <p class="text-secondary">\n                                    Pahami risiko sebenarnya terhadap kesehatan dan ekosistem, serta pentingnya pengelolaan yang bertanggung jawab.\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            \x3c!-- Contact Section --\x3e\n            <section class="contact-section py-5" id="contact-us">\n                <div class="container">\n                    <h2 class="text-center fw-bold mb-5">Contact Us</h2>\n                    \n                    <div class="row justify-content-center mb-5">\n                        \x3c!-- Email Card --\x3e\n                        <div class="col-md-4 mb-4 mb-md-0">\n                            <div class="contact-card text-center">\n                                <i class="fas fa-envelope mb-3"></i>\n                                <h4>Email</h4>\n                                <p>Politeknik@polije.ac.id</p>\n                            </div>\n                        </div>\n                        \n                        \x3c!-- WhatsApp Card --\x3e\n                        <div class="col-md-4 mb-4 mb-md-0">\n                            <div class="contact-card text-center">\n                                <i class="fab fa-whatsapp mb-3"></i>\n                                <h4>Whatsapp</h4>\n                                <p>+62 8913 9238 32</p>\n                            </div>\n                        </div>\n                        \n                        \x3c!-- Email Card (duplicated as in the design) --\x3e\n                        <div class="col-md-4">\n                            <div class="contact-card text-center">\n                                <i class="fas fa-envelope mb-3"></i>\n                                <h4>Email</h4>\n                                <p>Marketing@polije.ac.id</p>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- Contact Form --\x3e\n                    <div class="row justify-content-center">\n                        <div class="col-md-8">\n                            <div class="contact-form">\n                                <h3 class="text-center mb-4">Formulir Kontak</h3>\n                                <form>\n                                    <div class="row g-3 mb-3">\n                                        <div class="col-md-6">\n                                            <input type="text" class="form-control" placeholder="Nama Lengkap" required>\n                                        </div>\n                                        <div class="col-md-6">\n                                            <input type="email" class="form-control" placeholder="Email" required>\n                                        </div>\n                                    </div>\n                                    <div class="mb-3">\n                                        <input type="text" class="form-control" placeholder="Subjek" required>\n                                    </div>\n                                    <div class="mb-4">\n                                        <textarea class="form-control" rows="5" placeholder="Pesan"></textarea>\n                                    </div>\n                                    <button type="submit" class="btn btn-green w-100 py-2 fw-semibold">Kirim</button>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            \x3c!-- Footer --\x3e\n            <footer class="footer py-3">\n                <div class="container text-center">\n                    <p class="mb-0">Â© Copyright <strong>2025</strong></p>\n                </div>\n            </footer>\n        `;const e=document.getElementById("bg-image");e&&(e.style.backgroundImage=`url(${w})`),this.setupEventListeners()}setupEventListeners(){this.removeEventListeners();const e=document.getElementById("register-btn");if(e){const n=e=>{e.preventDefault();if(localStorage.getItem("currentUser"))return void alert("Anda sudah login. Silahkan logout terlebih dahulu untuk membuat akun baru.");console.log("Navigating to register page");const n=new CustomEvent("navigate",{detail:{page:"register"}});document.dispatchEvent(n)};e.addEventListener("click",n),this.eventListeners.push({element:e,type:"click",handler:n})}const n=document.getElementById("login-btn");if(n){const e=e=>{e.preventDefault();if(localStorage.getItem("currentUser"))return void alert("Anda sudah login.");console.log("Navigating to login page");const n=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(n)};n.addEventListener("click",e),this.eventListeners.push({element:n,type:"click",handler:e})}}removeEventListeners(){this.eventListeners.forEach((({element:e,type:n,handler:t})=>{e&&e.removeEventListener(n,t)})),this.eventListeners=[]}destroy(){console.log("Destroying IndexView"),this.removeEventListeners()}}class x{constructor(){this.routes={index:"#/",register:"#/register",login:"#/login",dashboard:"#/dashboard"},this.initialRoute=this.getCurrentRoute(),window.addEventListener("hashchange",(()=>{this.checkAuthAndRedirect(),this.dispatchRouteChange()})),this.checkAuthAndRedirect()}getCurrentRoute(){const e=window.location.hash||"#/",n=Object.entries(this.routes).find((([n,t])=>e===t))?.[0];return n||"index"}getCurrentPath(){return window.location.hash||"#/"}navigateTo(e,n={}){let t;t=e.startsWith("#")?e:e.includes("/")?`#${e}`:this.routes[e]||"#/",(t!==this.getCurrentPath()||n.force)&&(n.replace?window.location.replace(t):window.location.hash=t,this.dispatchRouteChange())}dispatchRouteChange(){const e=new CustomEvent("routeChanged",{detail:{page:this.getCurrentRoute(),path:this.getCurrentPath()}});document.dispatchEvent(e)}onRouteChange(e){const n=n=>e(n.detail);return document.addEventListener("routeChanged",n),()=>document.removeEventListener("routeChanged",n)}checkAuthAndRedirect(){const e=this.getCurrentRoute(),n=localStorage.getItem("currentUser");return"dashboard"!==e||n?"register"!==e&&"login"!==e||!n||(console.log("Already logged in - redirecting to dashboard"),this.navigateTo("dashboard",{replace:!0}),!1):(console.log("Access to dashboard denied - not logged in"),this.navigateTo("login",{replace:!0}),!1)}}class E{constructor(){this.view=new k,this.router=new x,this.setupNavigationListener()}init(){console.log("Initializing IndexPresenter"),this.view.render()}setupNavigationListener(){document.addEventListener("navigate",(e=>{console.log("Navigation event received:",e.detail),e.detail&&e.detail.page&&this.router.navigateTo(e.detail.page)}))}destroy(){console.log("Destroying IndexPresenter"),document.removeEventListener("navigate",this.handleNavigation),this.view.destroy()}}var L=t(752),S={};S.styleTagTransform=u(),S.setAttributes=d(),S.insert=l().bind(null,"head"),S.domAPI=r(),S.insertStyleElement=m();a()(L.A,S);L.A&&L.A.locals&&L.A.locals;const P=t.p+"assets/images/6ac5f65a0a3abb390e56.png";class I{constructor(){this.app=document.getElementById("app"),this.eventListeners=[]}render(){this.app.innerHTML=`\n            <main class="container">\n                <div class="row justify-content-center align-items-center">\n                    <div class="col-md-6 d-flex justify-content-center mb-4 mb-md-0">\n                        <img \n                        src="${P}" \n                        alt="Illustration of a woman interacting with a large mobile phone screen showing a registration form, surrounded by green leaves and white gears" \n                        class="img-fluid" \n                        style="max-height: 500px;"\n                        />\n                    </div>\n                    <div class="col-md-6" style="max-width: 400px;">\n                        <h1 class="fw-bold fs-2 tracking-widest mb-1" style="letter-spacing: 0.15em;">Welcome!</h1>\n                        <p class="mb-4 text-secondary" style="font-size: 0.875rem;">Silahkan isi field untuk Daftar Akun</p>\n                        <div class="divider">\n                            <div class="dot"></div>\n                            <div class="line"></div>\n                            <div class="dot"></div>\n                        </div>\n                        <form id="registerForm">\n                            <div class="mb-3">\n                                <input type="text" id="name" class="form-control rounded-3" placeholder="Nama Lengkap" />\n                            </div>\n                            <div class="mb-3">\n                                <input type="email" id="email" class="form-control rounded-3" placeholder="Email" />\n                            </div>\n                            <div class="mb-3">\n                                <input type="tel" id="phone" class="form-control rounded-3" placeholder="No Hp" />\n                            </div>\n                            <div class="mb-3">\n                                <input type="text" id="username" class="form-control rounded-3" placeholder="Username" />\n                            </div>\n                            <div class="mb-3">\n                                <input type="password" id="password" class="form-control rounded-3" placeholder="Password" />\n                            </div>\n                            <div class="mb-3">\n                                <input type="password" id="rePassword" class="form-control rounded-3" placeholder="Re-Password" />\n                            </div>\n                            <button type="submit" class="btn btn-lime w-100 py-3 fw-bold">Daftar</button>\n                            <div id="registerMessages"></div>\n                        </form>\n                        <p class="text-center mt-4 text-secondary" style="font-size: 0.875rem;">\n                        Sudah punya akun? <a href="#" id="login-link" class="lime-link">Login</a>\n                        </p>\n                    </div>\n                </div>\n            </main>\n        `,this.setupEventListeners()}setupEventListeners(){this.removeEventListeners();const e=document.getElementById("login-link");if(e){const n=e=>{e.preventDefault(),console.log("Navigating to login page");const n=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(n)};e.addEventListener("click",n),this.eventListeners.push({element:e,type:"click",handler:n})}}getRegisterFormData(){return{name:document.getElementById("name")?.value||"",email:document.getElementById("email")?.value||"",phone:document.getElementById("phone")?.value||"",username:document.getElementById("username")?.value||"",password:document.getElementById("password")?.value||"",rePassword:document.getElementById("rePassword")?.value||""}}showAlert(e){alert(e)}showRegisterSuccess(){this.removeMessages();const e=document.getElementById("registerMessages");if(e){const n=document.createElement("div");n.className="alert alert-success mt-3",n.textContent="Pendaftaran berhasil! Mengalihkan ke halaman login...",e.appendChild(n)}}showRegisterError(e){this.removeMessages();const n=document.getElementById("registerMessages");if(n){const t=document.createElement("div");t.className="alert alert-danger mt-3",t.textContent=e||"Pendaftaran gagal. Silakan coba lagi.",n.appendChild(t)}}removeMessages(){const e=document.getElementById("registerMessages");e&&(e.innerHTML="")}removeEventListeners(){this.eventListeners.forEach((({element:e,type:n,handler:t})=>{e&&e.removeEventListener(n,t)})),this.eventListeners=[]}destroy(){console.log("Destroying RegisterView"),this.removeEventListeners()}}class D{constructor(){this.view=new I,this.handleRegisterSubmit=this.handleRegisterSubmit.bind(this),this.handleNavigate=this.handleNavigate.bind(this)}init(){console.log("Initializing RegisterPresenter"),this.view.render(),this.setupFormListener(),this.setupNavigationListener()}setupFormListener(){const e=document.getElementById("registerForm");e?(e.removeEventListener("submit",this.handleRegisterSubmit),e.addEventListener("submit",this.handleRegisterSubmit),console.log("Register form event listener added")):console.error("Register form not found in the DOM")}setupNavigationListener(){document.removeEventListener("navigate",this.handleNavigate),document.addEventListener("navigate",this.handleNavigate)}handleNavigate(e){console.log("Navigation event received:",e.detail)}async handleRegisterSubmit(e){e.preventDefault(),console.log("Register form submitted");try{const e=this.view.getRegisterFormData();if(console.log("Form data:",e),!this.validateUserData(e))return;const n=await async function(e){if(e.password!==e.rePassword)return{success:!1,message:"Password tidak cocok!"};const n=JSON.parse(localStorage.getItem("users"))||[];return n.find((n=>n.email===e.email||n.username===e.username))?{success:!1,message:"User sudah terdaftar!"}:(n.push({name:e.name,email:e.email,phone:e.phone,username:e.username,password:e.password}),localStorage.setItem("users",JSON.stringify(n)),{success:!0,message:"Pendaftaran berhasil!"})}(e);n.success?(this.view.showRegisterSuccess(),setTimeout((()=>{const e=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(e)}),1500)):this.view.showRegisterError(n.message)}catch(e){console.error("Error during registration:",e),this.view.showRegisterError("Terjadi kesalahan saat mendaftar. Silakan coba lagi.")}}validateUserData(e){if(!(e.name&&e.email&&e.phone&&e.username&&e.password&&e.rePassword))return this.view.showRegisterError("Semua field harus diisi!"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return this.view.showRegisterError("Email tidak valid!"),!1;return/^\d+$/.test(e.phone)?e.password.length<6?(this.view.showRegisterError("Password minimal 6 karakter!"),!1):e.password===e.rePassword||(this.view.showRegisterError("Konfirmasi password tidak cocok!"),!1):(this.view.showRegisterError("Nomor telepon hanya boleh berisi angka!"),!1)}destroy(){console.log("Destroying RegisterPresenter"),document.removeEventListener("navigate",this.handleNavigate);const e=document.getElementById("registerForm");e&&e.removeEventListener("submit",this.handleRegisterSubmit),this.view.destroy()}}var R=t(660),C={};C.styleTagTransform=u(),C.setAttributes=d(),C.insert=l().bind(null,"head"),C.domAPI=r(),C.insertStyleElement=m();a()(R.A,C);R.A&&R.A.locals&&R.A.locals;const A=t.p+"assets/images/f8b8bb6d2a4d48c9b3e0.png";class j{constructor(){this.app=document.getElementById("app"),this.eventListeners=[]}render(){this.app.innerHTML=`\n            <div class="login-container">\n                <div class="illustration">\n                <img\n                    src="${A}"\n                    alt="Illustration of a man holding a large green key standing in front of a computer screen showing a user login form with green accents"\n                    width="600"\n                    height="400"\n                />\n                </div>\n                <div class="login-form">\n                <h1>Welcome!</h1>\n                <p class="subtitle">Silahkan isi field untuk Login</p>\n                <hr />\n                <form id="loginForm">\n                    <input\n                    id="emailOrUsername"\n                    type="text"\n                    class="form-control"\n                    placeholder="Email atau Username"\n                    required\n                    />\n                    <input\n                    id="password"\n                    type="password"\n                    class="form-control"\n                    placeholder="Password"\n                    required\n                    />\n                    <p class="text-center-sm mb-3">\n                    Lupa Password?\n                    <a href="#" class="link-lime">Klik Disini</a>\n                    </p>\n                    <button type="submit" class="btn btn-lime mb-3">Login</button>\n                    <div id="loginMessages"></div>\n                    <p class="text-center-sm">\n                    Tidak punya akun?\n                    <a href="#" id="register-link" class="link-lime">Daftar</a>\n                    </p>\n                </form>\n                </div>\n            </div>\n        `,this.setupEventListeners()}setupEventListeners(){this.removeEventListeners();const e=document.getElementById("register-link");if(e){const n=e=>{e.preventDefault(),console.log("Navigating to register page");const n=new CustomEvent("navigate",{detail:{page:"register"}});document.dispatchEvent(n)};e.addEventListener("click",n),this.eventListeners.push({element:e,type:"click",handler:n})}}getLoginFormData(){return{emailOrUsername:document.getElementById("emailOrUsername")?.value||"",password:document.getElementById("password")?.value||""}}showAlert(e){alert(e)}showLoginSuccess(){this.removeMessages();const e=document.getElementById("loginMessages");if(e){const n=document.createElement("div");n.className="alert alert-success mt-3",n.textContent="Login berhasil! Mengalihkan ke dashboard...",e.appendChild(n)}}showLoginError(e){this.removeMessages();const n=document.getElementById("loginMessages");if(n){const t=document.createElement("div");t.className="alert alert-danger mt-3",t.textContent=e||"Login gagal. Silakan coba lagi.",n.appendChild(t)}}removeMessages(){const e=document.getElementById("loginMessages");e&&(e.innerHTML="")}removeEventListeners(){this.eventListeners.forEach((({element:e,type:n,handler:t})=>{e&&e.removeEventListener(n,t)})),this.eventListeners=[]}destroy(){console.log("Destroying LoginView"),this.removeEventListeners()}}class N{constructor(){this.view=new j,this.handleLoginSubmit=this.handleLoginSubmit.bind(this),this.handleNavigate=this.handleNavigate.bind(this)}init(){console.log("Initializing LoginPresenter"),this.view.render(),this.setupFormListener(),this.setupNavigationListener()}setupFormListener(){const e=document.getElementById("loginForm");e?(e.removeEventListener("submit",this.handleLoginSubmit),e.addEventListener("submit",this.handleLoginSubmit),console.log("Login form event listener added")):console.error("Login form not found in the DOM")}setupNavigationListener(){document.removeEventListener("navigate",this.handleNavigate),document.addEventListener("navigate",this.handleNavigate)}handleNavigate(e){console.log("Navigation event received:",e.detail)}async handleLoginSubmit(e){e.preventDefault(),console.log("Login form submitted");try{const e=this.view.getLoginFormData();if(console.log("Form data:",e),!this.validateCredentials(e))return;const n=await async function(e){const n=(JSON.parse(localStorage.getItem("users"))||[]).find((n=>(n.email===e.emailOrUsername||n.username===e.emailOrUsername)&&n.password===e.password));return n?(localStorage.setItem("currentUser",JSON.stringify(n)),{success:!0,message:"Login berhasil!"}):{success:!1,message:"Email/Username atau Password salah!"}}(e);n.success?(this.view.showLoginSuccess(),setTimeout((()=>{const e=new CustomEvent("navigate",{detail:{page:"dashboard"}});document.dispatchEvent(e)}),1500)):this.view.showLoginError(n.message)}catch(e){console.error("Error during login:",e),this.view.showLoginError("Terjadi kesalahan saat login. Silakan coba lagi.")}}validateCredentials(e){return e.emailOrUsername&&e.password?!(e.password.length<6)||(this.view.showLoginError("Password minimal 6 karakter!"),!1):(this.view.showLoginError("Email/Username dan Password harus diisi!"),!1)}destroy(){console.log("Destroying LoginPresenter"),document.removeEventListener("navigate",this.handleNavigate);const e=document.getElementById("loginForm");e&&e.removeEventListener("submit",this.handleLoginSubmit),this.view.destroy()}}var B=t(927),M={};M.styleTagTransform=u(),M.setAttributes=d(),M.insert=l().bind(null,"head"),M.domAPI=r(),M.insertStyleElement=m();a()(B.A,M);B.A&&B.A.locals&&B.A.locals;const U=t.p+"assets/images/97e34163ec13b90eebb2.png";class T{constructor(){this.app=document.getElementById("app"),this.eventListeners=[]}render(){this.app.innerHTML=`\n        \x3c!-- Sidebar --\x3e\n        <div class="sidebar">\n            <div class="logo my-3 mx-3">\n                <span class="logo-text">GREENSORT</span>\n            </div>\n            \n            <div class="nav flex-column mt-4">\n                <a href="#" class="nav-link active">\n                    <i class="bi bi-grid"></i>\n                    <span class="nav-text">Dashboard</span>\n                </a>\n                \n                <div class="mt-3">\n                    <p class="ms-3 text-secondary mb-2">Master</p>\n                    <a href="#" class="nav-link">\n                        <i class="bi bi-database"></i>\n                        <span class="nav-text">Data Master</span>\n                    </a>\n                    <a href="#" class="nav-link">\n                        <i class="bi bi-people"></i>\n                        <span class="nav-text">Pengguna</span>\n                    </a>\n                    <a href="#" class="nav-link">\n                        <i class="bi bi-trash"></i>\n                        <span class="nav-text">Jenis Sampah</span>\n                    </a>\n                </div>\n            </div>\n            \n            <div class="mt-auto mb-4 px-3">\n                <button id="logout-btn" class="btn btn-outline-danger w-100">\n                    <i class="bi bi-box-arrow-left me-2"></i>Logout\n                </button>\n            </div>\n        </div>\n        \n        \x3c!-- Main Content --\x3e\n        <div class="main-content">\n            <header>\n              \x3c!-- User Profile --\x3e\n              <div class="user-profile">\n                <img id="user-avatar" src="${U}" alt="User">\n                <span id="user-name">Loading...</span>\n              </div>\n              \n              <div class="dashboard-header">\n                  <h2>Dashboard</h2>\n                  <p class="text-dark mb-4">Ringkasan status pengajuan Anda secara real-time.</p>\n                  \n                  \x3c!-- Stats Cards --\x3e\n                  <div class="row">\n                      <div class="col-md-2 col-lg-2-4">\n                          <div class="stat-card">\n                              <div class="stat-number">80</div>\n                              <div class="stat-label">Menunggu Validasi</div>\n                              <div class="icon-circle yellow-bg">\n                                  <i class="bi bi-hourglass-split"></i>\n                              </div>\n                              <a href="#" class="more-btn">\n                                  <i class="bi bi-arrow-down"></i>\n                              </a>\n                          </div>\n                      </div>\n                      \n                      <div class="col-md-2 col-lg-2-4">\n                          <div class="stat-card">\n                              <div class="stat-number">16</div>\n                              <div class="stat-label">Diterima</div>\n                              <div class="icon-circle blue-bg">\n                                  <i class="bi bi-clipboard-check"></i>\n                              </div>\n                              <a href="#" class="more-btn">\n                                  <i class="bi bi-arrow-down"></i>\n                              </a>\n                          </div>\n                      </div>\n                      \n                      <div class="col-md-2 col-lg-2-4">\n                          <div class="stat-card">\n                              <div class="stat-number">8</div>\n                              <div class="stat-label">Ditolak</div>\n                              <div class="icon-circle red-bg">\n                                  <i class="bi bi-x-circle"></i>\n                              </div>\n                              <a href="#" class="more-btn">\n                                  <i class="bi bi-arrow-down"></i>\n                              </a>\n                          </div>\n                      </div>\n                      \n                      <div class="col-md-2 col-lg-2-4">\n                          <div class="stat-card">\n                              <div class="stat-number">24</div>\n                              <div class="stat-label">Dikirim</div>\n                              <div class="icon-circle orange-bg">\n                                  <i class="bi bi-truck"></i>\n                              </div>\n                              <a href="#" class="more-btn">\n                                  <i class="bi bi-arrow-down"></i>\n                              </a>\n                          </div>\n                      </div>\n                      \n                      <div class="col-md-2 col-lg-2-4">\n                          <div class="stat-card">\n                              <div class="stat-number">42</div>\n                              <div class="stat-label">Selesai</div>\n                              <div class="icon-circle green-bg">\n                                  <i class="bi bi-check-circle"></i>\n                              </div>\n                              <a href="#" class="more-btn">\n                                  <i class="bi bi-arrow-down"></i>\n                              </a>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </header>\n            \n            \x3c!-- Data Pengajuan Section --\x3e\n            <div class="data-section">\n                <div class="data-header d-flex justify-content-between align-items-center">\n                    <h3>Data Pengajuan</h3>\n                    <div class="search-box">\n                        <i class="bi bi-search"></i>\n                    </div>\n                </div>\n                \n                <div class="table-responsive">\n                    <table class="table">\n                        <thead>\n                            <tr>\n                                <th width="40px"></th>\n                                <th>Name</th>\n                                <th>Status</th>\n                                <th>Jenis Sampah</th>\n                                <th>Kuantitas</th>\n                                <th>Total</th>\n                                <th>Gambar Sampah</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody id="applications-table-body">\n                            \x3c!-- Data rows will be inserted here --\x3e\n                        </tbody>\n                    </table>\n                    \x3c!-- Pagination --\x3e\n                    <nav>\n                        <ul class="pagination">\n                            <li class="page-item">\n                                <a class="page-link" href="#" aria-label="Previous">\n                                    <i class="bi bi-chevron-left"></i>\n                                </a>\n                            </li>\n                            <li class="page-item active"><a class="page-link" href="#">1</a></li>\n                            <li class="page-item"><a class="page-link" href="#">2</a></li>\n                            <li class="page-item"><a class="page-link" href="#">3</a></li>\n                            <li class="page-item">\n                                <a class="page-link" href="#">...</a>\n                            </li>\n                            <li class="page-item"><a class="page-link" href="#">10</a></li>\n                            <li class="page-item">\n                                <a class="page-link" href="#" aria-label="Next">\n                                    <i class="bi bi-chevron-right"></i>\n                                </a>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        </div>\n        \n        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">\n        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">\n        `,this.setupEventListeners()}setupEventListeners(){this.removeEventListeners();const e=document.getElementById("logout-btn");if(e){const n=e=>{e.preventDefault(),console.log("Logging out");const n=new CustomEvent("user-logout");document.dispatchEvent(n)};e.addEventListener("click",n),this.eventListeners.push({element:e,type:"click",handler:n})}}displayUserInfo(e){const n=document.getElementById("user-name");n&&e&&(n.textContent=e.name||e.username)}renderDashboardData(e){this.renderApplicationsTable([{id:1,name:"Sherry Rowe",status:"Menunggu Validasi",jenisSampah:"Glass",kuantitas:6,total:"Rp. 300,000",imageUrl:"../assets/images/image 44.png"},{id:2,name:"John Doe",status:"Diterima",jenisSampah:"Plastic",kuantitas:10,total:"Rp. 450,000",imageUrl:"/api/placeholder/100/70"},{id:3,name:"Jane Smith",status:"Dikirim",jenisSampah:"Paper",kuantitas:8,total:"Rp. 200,000",imageUrl:"/api/placeholder/100/70"},{id:4,name:"Robert Johnson",status:"Selesai",jenisSampah:"Metal",kuantitas:12,total:"Rp. 600,000",imageUrl:"/api/placeholder/100/70"}])}renderApplicationsTable(e){const n=document.getElementById("applications-table-body");if(!n)return;let t="";e.forEach((e=>{let n="bg-light",s="bi-hourglass-split";switch(e.status){case"Diterima":n="bg-info bg-opacity-10",s="bi-clipboard-check";break;case"Ditolak":n="bg-danger bg-opacity-10",s="bi-x-circle";break;case"Dikirim":n="bg-warning bg-opacity-10",s="bi-truck";break;case"Selesai":n="bg-success bg-opacity-10",s="bi-check-circle"}t+=`\n            <tr>\n                <td>\n                    <div class="form-check">\n                        <input class="form-check-input" type="checkbox" value="${e.id}">\n                    </div>\n                </td>\n                <td>${e.name}</td>\n                <td>\n                    <span class="status-badge ${n}">\n                        <i class="bi ${s} me-1"></i>\n                        ${e.status}\n                    </span>\n                </td>\n                <td>${e.jenisSampah}</td>\n                <td>${e.kuantitas}</td>\n                <td>${e.total}</td>\n                <td>\n                    <img src="${e.imageUrl}" alt="Waste Image" class="waste-img">\n                </td>\n                <td>\n                    <button class="action-btn btn btn-success"><i class="bi bi-check"></i></button>\n                    <button class="action-btn btn btn-danger"><i class="bi bi-x"></i></button>\n                    <button class="action-btn btn btn-primary"><i class="bi bi-chat"></i></button>\n                </td>\n            </tr>\n            `})),n.innerHTML=t}removeEventListeners(){this.eventListeners.forEach((({element:e,type:n,handler:t})=>{e&&e.removeEventListener(n,t)})),this.eventListeners=[]}destroy(){console.log("Destroying DashboardView"),this.removeEventListeners()}}class O{constructor(){this.view=new T,this.currentUser=null,this.handleLogout=this.handleLogout.bind(this)}init(){if(console.log("Initializing DashboardPresenter"),this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.currentUser)this.view.render(),this.view.displayUserInfo(this.currentUser),this.view.renderDashboardData(this.currentUser),this.setupEventListeners();else{console.log("User not logged in, redirecting to login");const e=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(e)}}setupEventListeners(){document.addEventListener("user-logout",this.handleLogout)}handleLogout(){console.log("Logout initiated"),localStorage.removeItem("currentUser");const e=new CustomEvent("navigate",{detail:{page:"login"}});document.dispatchEvent(e)}destroy(){console.log("Destroying DashboardPresenter"),document.removeEventListener("user-logout",this.handleLogout),this.view.destroy()}}class ${constructor(){this.router=new x,this.currentPresenter=null,document.addEventListener("navigate",this.handleNavigateEvent.bind(this)),this.setupRouteHandlers()}setupRouteHandlers(){this.router.onRouteChange((({page:e})=>{console.log(`Route changed to: ${e}`),this.loadPage(e)}));const e=this.router.getCurrentRoute();console.log(`Initial page: ${e}`),this.loadPage(e)}handleNavigateEvent(e){e.detail&&e.detail.page&&(console.log("Navigation event received:",e.detail),this.router.navigateTo(e.detail.page))}loadPage(e){switch(this.currentPresenter&&(this.currentPresenter.destroy(),this.currentPresenter=null),e){case"index":default:this.currentPresenter=new E;break;case"register":this.currentPresenter=new D;break;case"login":this.currentPresenter=new N;break;case"dashboard":this.currentPresenter=new O}this.currentPresenter&&this.currentPresenter.init()}}document.addEventListener("DOMContentLoaded",(()=>{new $}))},752:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(601),a=t.n(s),i=t(314),r=t.n(i)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r},927:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(601),a=t.n(s),i=t(314),r=t.n(i)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r},940:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(601),a=t.n(s),i=t(314),r=t.n(i)()(a());r.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const o=r}},t={};function s(e){var a=t[e];if(void 0!==a)return a.exports;var i=t[e]={id:e,exports:{}};return n[e].call(i.exports,i,i.exports,s),i.exports}s.m=n,e=[],s.O=(n,t,a,i)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,a,i]=e[d],o=!0,l=0;l<t.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](t[l])))?t.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(d--,1);var c=a();void 0!==c&&(n=c)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,a,i]},s.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return s.d(n,{a:n}),n},s.d=(e,n)=>{for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={792:0};s.O.j=n=>0===e[n];var n=(n,t)=>{var a,i,[r,o,l]=t,c=0;if(r.some((n=>0!==e[n]))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var d=l(s)}for(n&&n(t);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},t=self.webpackChunkgreensort=self.webpackChunkgreensort||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),s.nc=void 0;var a=s.O(void 0,[550],(()=>s(664)));a=s.O(a)})();